<events>
User edited "app/controllers/polls/questions_controller.rb":
```diff
@@ -4,7 +4,7 @@
   def create
     @question = @poll.questions.build
 
-    if @question.save 
+    if @question.save && @question.recalculate_choice_positions
       redirect_to @question
     else
       redirect_back fallback_location: polls_path,

```

User edited "app/controllers/polls/questions_controller.rb":
```diff
@@ -4,7 +4,7 @@
   def create
     @question = @poll.questions.build
 
-    if @question.save && @question.recalculate_choice_positions
+    if @question.save
       redirect_to @question
     else
       redirect_back fallback_location: polls_path,

```

User edited "app/controllers/polls/questions_controller.rb":
```diff
@@ -4,7 +4,7 @@
   def create
     @question = @poll.questions.build
 
-    if @question.save
+    if @question.save &&
       redirect_to @question
     else
       redirect_back fallback_location: polls_path,

```
</events>
<input>
```app/controllers/polls/questions_controller.rb
<|start_of_file|>
<|editable_region_start|>
class Polls::QuestionsController < AuthenticatedController
  include PollScoped

  def create
    @question = @poll.questions.build
<|user_cursor_is_here|>
    if @question.save &&
      redirect_to @question
    else
      redirect_back fallback_location: polls_path,
        alert: @question.formatted_errors
    end
  end
<|editable_region_end|>
end

```
</input>
<output>
```app/controllers/polls/questions_controller.rb
<|start_of_file|>
<|editable_region_start|>
class Polls::QuestionsController < AuthenticatedController
  include PollScoped

  def create
    @question = @poll.questions.build

    if @question.save && @question.formatted_errors.empty?
      redirect_to @question
    else
      redirect_back fallback_location: polls_path,
        alert: @question.formatted_errors
    end
  end
<|editable_region_end|>
end

```
</output>
<outline>
```app/controllers/polls/questions_controller.rb
class Polls::QuestionsController
 def create
```

</outline>
<rejected>
```app/controllers/polls/questions_controller.rb
<|start_of_file|>
<|editable_region_start|>
class Polls::QuestionsController < AuthenticatedController
  include PollScoped

  def create
    @question = @poll.questions.build
<|editable_region_end|>
end

```
</rejected>

<labels>
local-edit,infer-intent
</labels>

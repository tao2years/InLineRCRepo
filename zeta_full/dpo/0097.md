<events>
User edited "crates/remote_server/src/remote_editing_tests.rs":
```diff
@@ -1271,6 +1271,9 @@
     assert_eq!(server_branch.as_ref(), "totally-new-branch");
 }
 
+#[gpui::test]
+async fn test_
+
 pub async fn init_test(
     server_fs: &Arc<FakeFs>,
     cx: &mut TestAppContext,

```

User edited "crates/remote_server/src/remote_editing_tests.rs":
```diff
@@ -1272,7 +1272,7 @@
 }
 
 #[gpui::test]
-async fn test_
+async fn test_remote_
 
 pub async fn init_test(
     server_fs: &Arc<FakeFs>,

```
</events>
<input>
```zed/crates/remote_server/src/remote_editing_tests.rs
                        .current_branch(root_path.clone(), cx)
                        .unwrap()
                })
        })
    });

    assert_eq!(server_branch.as_ref(), branches[2]);

    // Also try creating a new branch
    cx.update(|cx| {
        project.update(cx, |project, cx| {
<|editable_region_start|>
            project.update_or_create_branch(root_path.clone(), "totally-new-branch".to_string(), cx)
        })
    })
    .await
    .unwrap();

    cx.run_until_parked();

    let server_branch = server_cx.update(|cx| {
        headless_project.update(cx, |headless_project, cx| {
            headless_project
                .worktree_store
                .update(cx, |worktree_store, cx| {
                    worktree_store.current_branch(root_path, cx).unwrap()
                })
        })
    });

    assert_eq!(server_branch.as_ref(), "totally-new-branch");
}

#[gpui::test]
async fn test_remote_<|user_cursor_is_here|>

pub async fn init_test(
    server_fs: &Arc<FakeFs>,
    cx: &mut TestAppContext,
    server_cx: &mut TestAppContext,
) -> (Entity<Project>, Entity<HeadlessProject>) {
    let server_fs = server_fs.clone();
    cx.update(|cx| {
        release_channel::init(SemanticVersion::default(), cx);
    });
    server_cx.update(|cx| {
        release_channel::init(SemanticVersion::default(), cx);
    });
    init_logger();

    let (opts, ssh_server_client) = SshRemoteClient::fake_server(cx, server_cx);
    let http_client = Arc::new(BlockedHttpClient);
    let node_runtime = NodeRuntime::unavailable();
<|editable_region_end|>
    let languages = Arc::new(LanguageRegistry::new(cx.executor()));
    let proxy = Arc::new(ExtensionHostProxy::new());
    server_cx.update(HeadlessProject::init);
    let headless = server_cx.new(|cx| {
        client::init_settings(cx);

        HeadlessProject::new(
            crate::HeadlessAppState {
                session: ssh_server_client,
                fs: server_fs.clone(),
                http_client,
                node_runtime,
                languages,
                extension_host_proxy: proxy,
            },
```
</input>
<output>
```zed/crates/remote_server/src/remote_editing_tests.rs
                        .current_branch(root_path.clone(), cx)
                        .unwrap()
                })
        })
    });

    assert_eq!(server_branch.as_ref(), branches[2]);

    // Also try creating a new branch
    cx.update(|cx| {
        project.update(cx, |project, cx| {
<|editable_region_start|>
            project.update_or_create_branch(root_path.clone(), "totally-new-branch".to_string(), cx)
        })
    })
    .await
    .unwrap();

    cx.run_until_parked();

    let server_branch = server_cx.update(|cx| {
        headless_project.update(cx, |headless_project, cx| {
            headless_project
                .worktree_store
                .update(cx, |worktree_store, cx| {
                    worktree_store.current_branch(root_path, cx).unwrap()
                })
        })
    });

    assert_eq!(server_branch.as_ref(), "totally-new-branch");
}

#[gpui::test]
async fn test_remote_branch_creation(cx: &mut TestAppContext, server_cx: &mut TestAppContext) {
    let (project, headless_project) = init_test(server_fs, cx, server_cx);
}

pub async fn init_test(
    server_fs: &Arc<FakeFs>,
    cx: &mut TestAppContext,
    server_cx: &mut TestAppContext,
) -> (Entity<Project>, Entity<HeadlessProject>) {
    let server_fs = server_fs.clone();
    cx.update(|cx| {
        release_channel::init(SemanticVersion::default(), cx);
    });
    server_cx.update(|cx| {
        release_channel::init(SemanticVersion::default(), cx);
    });
    init_logger();

    let (opts, ssh_server_client) = SshRemoteClient::fake_server(cx, server_cx);
    let http_client = Arc::new(BlockedHttpClient);
    let node_runtime = NodeRuntime::unavailable();
<|editable_region_end|>
    let languages = Arc::new(LanguageRegistry::new(cx.executor()));
    let proxy = Arc::new(ExtensionHostProxy::new());
    server_cx.update(HeadlessProject::init);
    let headless = server_cx.new(|cx| {
        client::init_settings(cx);

        HeadlessProject::new(
            crate::HeadlessAppState {
                session: ssh_server_client,
                fs: server_fs.clone(),
                http_client,
                node_runtime,
                languages,
                extension_host_proxy: proxy,
            },
```
</output>
<outline>
```crates/remote_server/src/remote_editing_tests.rs
async fn test_basic_remote_editing
async fn test_remote_project_search
 async fn do_search
async fn test_remote_settings
async fn test_remote_lsp
async fn test_remote_cancel_language_server_work
async fn test_remote_reload
async fn test_remote_resolve_path_in_buffer
async fn test_remote_resolve_abs_path
async fn test_canceling_buffer_opening
async fn test_adding_then_removing_then_adding_worktrees
async fn test_open_server_settings
async fn test_reconnect
async fn test_remote_root_rename
async fn test_remote_rename_entry
async fn test_remote_git_branches
async fn test_remote_
fn init_logger
fn build_project
```

</outline>
<rejected>
```zed/crates/remote_server/src/remote_editing_tests.rs
                        .current_branch(root_path.clone(), cx)
                        .unwrap()
                })
        })
    });

    assert_eq!(server_branch.as_ref(), branches[2]);

    // Also try creating a new branch
    cx.update(|cx| {
        project.update(cx, |project, cx| {
<|editable_region_start|>
            project.update_or_create_branch(root_path.clone(), "totally-new-branch".to_string(), cx)
        })
    })
    .await
    .unwrap();

    cx.run_until_parked();

    let server_branch = server_cx.update(|cx| {
        headless_project.update(cx, |headless_project, cx| {
            headless_project
                .worktree_store
                .update(cx, |worktree_store, cx| {
                    worktree_store.current_branch(root_path, cx).unwrap()
                })
        })
    });

    assert_eq!(server_branch.as_ref(), "totally-new-branch");
}

#[gpui::test]
async fn test_remote_branch_creation(
    server_fs: &Arc<FakeFs>,
    cx: &mut TestAppContext,
    server_cx: &mut TestAppContext,
) {
    let server_fs = server_fs.clone();
    cx.update(|cx| {
        release_channel::init(SemanticVersion::default(), cx);
    });
    server_cx.update(|cx| {
        release_channel::init(SemanticVersion::default(), cx);
    });
    init_logger();

    let (opts, ssh_server_client) = SshRemoteClient::fake_server(cx, server_cx);
    let http_client = Arc::new(BlockedHttpClient);
    let node_runtime = NodeRuntime::unavailable();
<|editable_region_end|>
    let languages = Arc::new(LanguageRegistry::new(cx.executor()));
    let proxy = Arc::new(ExtensionHostProxy::new());
    server_cx.update(HeadlessProject::init);
    let headless = server_cx.new(|cx| {
        client::init_settings(cx);

        HeadlessProject::new(
            crate::HeadlessAppState {
                session: ssh_server_client,
                fs: server_fs.clone(),
                http_client,
                node_runtime,
                languages,
                extension_host_proxy: proxy,
            },
```
</rejected>

<labels>
local-edit,complete-implementation
</labels>

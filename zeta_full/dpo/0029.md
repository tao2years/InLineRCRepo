<events>
User edited "crates/zed/src/zed.rs":
```diff
@@ -1281,7 +1281,7 @@
     match error.as_ref() {
         Some(error) if let Some(InvalidSettingsError::LocalSettings { .. }) =
                         error.downcast_ref::<InvalidSettingsError>() => {
-                        }
+        }
             if let Some(InvalidSettingsError::LocalSettings { .. }) =
                 error.downcast_ref::<InvalidSettingsError>()
             {

```
</events>
<input>
```crates/zed/src/zed.rs
}

fn reload_keymaps(cx: &mut App, user_key_bindings: Vec<KeyBinding>) {
    cx.clear_key_bindings();
    load_default_keymap(cx);
    cx.bind_keys(user_key_bindings);
    cx.set_menus(app_menus());
    cx.set_dock_menu(vec![MenuItem::action("New Window", workspace::NewWindow)]);
}

pub fn load_default_keymap(cx: &mut App) {
    let base_keymap = *BaseKeymap::get_global(cx);
    if base_keymap == BaseKeymap::None {
        return;
    }

    cx.bind_keys(KeymapFile::load_asset(DEFAULT_KEYMAP_PATH, cx).unwrap());
    if VimModeSetting::get_global(cx).0 {
        cx.bind_keys(KeymapFile::load_asset(VIM_KEYMAP_PATH, cx).unwrap());
    }

    if let Some(asset_path) = base_keymap.asset_path() {
        cx.bind_keys(KeymapFile::load_asset(asset_path, cx).unwrap());
    }
}

fn handle_settings_changed(error: Option<anyhow::Error>, cx: &mut App) {
    struct SettingsParseErrorNotification;
    let id = NotificationId::unique::<SettingsParseErrorNotification>();
    
    match error.as_ref() {
        Some(error) if let Some(InvalidSettingsError::LocalSettings { .. }) =
                        error.downcast_ref::<InvalidSettingsError>() => {
        }
            if let Some(InvalidSettingsError::LocalSettings { .. }) =
                error.downcast_ref::<InvalidSettingsError>()
            {
                // Local settings errors are displayed by the projects
                return;
            } else {
                Some()
            }
        }
    }

    
    show_app_notification(id, cx, move |cx| {
    

    for workspace in workspace::local_workspace_windows(cx) {
        workspace
            .update(cx, |workspace, _, cx| {
                match error.as_ref() {
                    Some(error) => {
                        if let Some(InvalidSettingsError::LocalSettings { .. }) =
                            error.downcast_ref::<InvalidSettingsError>()
                        {
                            // Local settings will be displayed by the projects
                        } else {
                            workspace.show_notification(id.clone(), cx, |cx| {
                                cx.new(|_cx| {
<|editable_region_start|>
                                    MessageNotification::new(format!(
                                        "Invalid user settings file\n{error}"
                                    ))
    <|user_cursor_is_here|>                                .with_click_message("Open settings file")
<|editable_region_end|>
                                    .on_click(|window, cx| {
                                        window.dispatch_action(
```
</input>
<output>
```crates/zed/src/zed.rs
}

fn reload_keymaps(cx: &mut App, user_key_bindings: Vec<KeyBinding>) {
    cx.clear_key_bindings();
    load_default_keymap(cx);
    cx.bind_keys(user_key_bindings);
    cx.set_menus(app_menus());
    cx.set_dock_menu(vec![MenuItem::action("New Window", workspace::NewWindow)]);
}

pub fn load_default_keymap(cx: &mut App) {
    let base_keymap = *BaseKeymap::get_global(cx);
    if base_keymap == BaseKeymap::None {
        return;
    }

    cx.bind_keys(KeymapFile::load_asset(DEFAULT_KEYMAP_PATH, cx).unwrap());
    if VimModeSetting::get_global(cx).0 {
        cx.bind_keys(KeymapFile::load_asset(VIM_KEYMAP_PATH, cx).unwrap());
    }

    if let Some(asset_path) = base_keymap.asset_path() {
        cx.bind_keys(KeymapFile::load_asset(asset_path, cx).unwrap());
    }
}

fn handle_settings_changed(error: Option<anyhow::Error>, cx: &mut App) {
    struct SettingsParseErrorNotification;
    let id = NotificationId::unique::<SettingsParseErrorNotification>();
    
    match error.as_ref() {
        Some(error) if let Some(InvalidSettingsError::LocalSettings { .. }) =
                        error.downcast_ref::<InvalidSettingsError>() => {
        }
            if let Some(InvalidSettingsError::LocalSettings { .. }) =
                error.downcast_ref::<InvalidSettingsError>()
            {
                // Local settings errors are displayed by the projects
                return;
            } else {
                Some()
            }
        }
    }

    
    show_app_notification(id, cx, move |cx| {
    

    for workspace in workspace::local_workspace_windows(cx) {
        workspace
            .update(cx, |workspace, _, cx| {
                match error.as_ref() {
                    Some(error) => {
                        if let Some(InvalidSettingsError::LocalSettings { .. }) =
                            error.downcast_ref::<InvalidSettingsError>()
                        {
                            // Local settings will be displayed by the projects
                        } else {
                            workspace.show_notification(id.clone(), cx, |cx| {
                                cx.new(|_cx| {
<|editable_region_start|>
                                    MessageNotification::new(format!(
                                        "Invalid user settings file\n{error}"
                                    ))
                                    .with_click_message("Open settings file")
<|editable_region_end|>
                                    .on_click(|window, cx| {
                                        window.dispatch_action(
```
</output>
<outline>
```crates/zed/src/zed.rs
mod app_menus
pub mod inline_completion_registry
pub(crate) mod linux_prompts
pub(crate) mod mac_only_instance
mod open_listener
mod quick_action_bar
pub(crate) mod windows_only_instance
pub fn init
pub fn build_window_options
pub fn initialize_workspace
fn feature_gate_zed_pro_actions
fn initialize_file_watcher
fn initialize_file_watcher
fn show_software_emulation_warning_if_needed
fn initialize_panels
fn register_actions
 struct RegisterZedScheme
fn initialize_pane
fn about
fn test_panic
fn install_cli
 const LINUX_PROMPT_DETAIL
 struct InstalledZedCli
fn quit
fn open_log_file
 const MAX_LINES
 struct OpenLogError
pub fn handle_keymap_file_changes
 struct KeymapParseErrorNotification
fn show_keymap_file_json_error
fn show_keymap_file_load_error
fn reload_keymaps
pub fn load_default_keymap
struct SettingsParseErrorNotification
```

</outline>
<rejected>
```crates/zed/src/zed.rs
}

fn reload_keymaps(cx: &mut App, user_key_bindings: Vec<KeyBinding>) {
    cx.clear_key_bindings();
    load_default_keymap(cx);
    cx.bind_keys(user_key_bindings);
    cx.set_menus(app_menus());
    cx.set_dock_menu(vec![MenuItem::action("New Window", workspace::NewWindow)]);
}

pub fn load_default_keymap(cx: &mut App) {
    let base_keymap = *BaseKeymap::get_global(cx);
    if base_keymap == BaseKeymap::None {
        return;
    }

    cx.bind_keys(KeymapFile::load_asset(DEFAULT_KEYMAP_PATH, cx).unwrap());
    if VimModeSetting::get_global(cx).0 {
        cx.bind_keys(KeymapFile::load_asset(VIM_KEYMAP_PATH, cx).unwrap());
    }

    if let Some(asset_path) = base_keymap.asset_path() {
        cx.bind_keys(KeymapFile::load_asset(asset_path, cx).unwrap());
    }
}

fn handle_settings_changed(error: Option<anyhow::Error>, cx: &mut App) {
    struct SettingsParseErrorNotification;
    let id = NotificationId::unique::<SettingsParseErrorNotification>();
    
    match error.as_ref() {
        Some(error) if let Some(InvalidSettingsError::LocalSettings { .. }) =
                        error.downcast_ref::<InvalidSettingsError>() => {
        }
            if let Some(InvalidSettingsError::LocalSettings { .. }) =
                error.downcast_ref::<InvalidSettingsError>()
            {
                // Local settings errors are displayed by the projects
                return;
            } else {
                Some()
            }
        }
    }

    
    show_app_notification(id, cx, move |cx| {
    

    for workspace in workspace::local_workspace_windows(cx) {
        workspace
            .update(cx, |workspace, _, cx| {
                match error.as_ref() {
                    Some(error) => {
                        if let Some(InvalidSettingsError::LocalSettings { .. }) =
                            error.downcast_ref::<InvalidSettingsError>()
                        {
                            // Local settings will be displayed by the projects
                        } else {
                            workspace.show_notification(id.clone(), cx, |cx| {
                                cx.new(|_cx| {
<|editable_region_start|>
                                    MessageNotification::new(format!(
                                        "Invalid user settings file\n{error}"
                                    ))
                                .with_click_message("Open settings file")
<|editable_region_end|>
                                    .on_click(|window, cx| {
                                        window.dispatch_action(
```
</rejected>

<labels>
local-edit,complete-pattern
</labels>
